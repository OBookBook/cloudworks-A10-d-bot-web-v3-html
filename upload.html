<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title><?php echo e( $title ) ?>アップロード</title>
    <script src="
    https://cdn.jsdelivr.net/npm/choices.js@11.0.2/public/assets/scripts/choices.min.js
    "></script>
    <link href="
    https://cdn.jsdelivr.net/npm/choices.js@11.0.2/public/assets/styles/choices.min.css
    " rel="stylesheet">
    <link rel="stylesheet" href="./css/admin-dashboard.css" />
</head>
<body class="upload-page">
<div class="layout">
    <div class="sidebar">
        <h2>設定メニュー</h2>
        <a href="./tweet_sensyuken.html">選手権いいね</a>
        <a href="./tweet.html">いいね・ﾌﾞｯｸﾏｰｸ</a>
        <a href="./account_list.html">Xアカウント一覧</a>
        <a href="./account_regist.html">Xアカウント登録</a>
        <a href="./account_regist2.html">Xアカウント登録(貸出)</a>
        <a href="./password.html">パスワード変更</a>
        <a href="./upload.html">動画アップロード</a>
        <a href="./upload.html">画像アップロード</a>
        <a href="./user_master.html">AI API設定</a>
        <a href="./user_list.html">ユーザー編集(管理者)</a>
        <a href="./login.html">ログアウト</a>
      </div>

    <div class="main">
   <h2 class="tx-white">アカウント選択</h2>
   <form method="GET" action="?">
      <input type="hidden" name="type" value="<?php echo e($type) ?>">
      <select name="xuser" id="xuser" required>
        <?php foreach ($xusers as $xu): ?>
          <option value="<?= htmlspecialchars($xu['id']) ?>" <?= ($xu['id'] == $xuser_id) ? 'selected' : '' ?>>
            <?= htmlspecialchars($xu['name']) ?> [ID=<?= $xu['id'] ?>]
          </option>
        <?php endforeach; ?>
      </select>
   </form>

    <script>

    function deleteFile(button,id) {
        if (confirm( "<?php echo e($title) ?> ID " + id + " を削除します。")) {
            button.form.submit();
        }
    }

    (function(){
        document.addEventListener('DOMContentLoaded',function(){
            const xuserEl = document.getElementById('form_xuser')
            xuserEl.addEventListener('change',function(){
                xuserEl.closest('form').submit();
            });

            const choices = new Choices('#form_xuser', {
                searchEnabled: true,
                itemSelectText: '',
            });

        });
    })();
    </script>
 </div>
</body>
</html>
